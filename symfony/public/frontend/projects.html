<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Projects</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 min-h-screen p-6 flex flex-col">

  <!-- Navigation at the top -->
  <nav class="flex gap-4 p-4 bg-white/90 rounded-2xl border shadow mb-6 max-w-4xl w-full mx-auto">
    <button id="tasks" class="hover:underline text-blue-600 font-semibold">Tasks</button>
    <button id="projects" class="hover:underline text-blue-600 font-semibold">Projects</button>
    <button id="index" class="ml-auto text-red-600 font-semibold hover:underline">Logout</button>
  </nav>

  <!-- Centered Page Content -->
  <main class="flex justify-center">
    <div class="bg-white p-6 rounded-2xl shadow-xl w-full max-w-4xl">
      <div class="flex justify-between items-center mb-4">
        <h1 class="text-2xl font-bold">Projects</h1>
        <button onclick="openProjectModal()" class="bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700">
          + New Project
        </button>
      </div>

      <!-- Filters -->
      <div class="flex flex-wrap justify-center gap-4 mb-6">
        <div>
            <label for="sort-by" class="block text-sm font-medium text-gray-700 mb-1">Sort by:</label>
            <select id="sort-by" class="border rounded px-3 py-2">
            <option value="">Default</option>
            <option value="name_asc">Title (A â†’ Z)</option>
            <option value="deadline_asc">Deadline (Oldest first)</option>
            <option value="deadline_desc">Deadline (Newest first)</option>
            </select>
        </div>

        <div class="flex items-end">
            <button id="filter-btn" class="bg-indigo-600 text-white px-5 py-2 rounded hover:bg-indigo-700 transition">
            Filter
            </button>
        </div>
      </div>

      <!-- Spinner -->
      <div id="loading-spinner" class="flex justify-center my-10 hidden">
        <div class="animate-spin rounded-full h-10 w-10 border-4 border-gray-300 border-t-indigo-500"></div>
      </div>

      <ul id="projects-list" class="space-y-4"></ul>

      <!-- Pagination -->
        <div class="flex justify-center items-center gap-4 mt-6">
          <button onclick="prevPage()" class="bg-gray-300 px-4 py-2 rounded hover:bg-gray-400">Prev</button>
          <span id="page-info" class="font-medium"></span>
          <button onclick="nextPage()" class="bg-gray-300 px-4 py-2 rounded hover:bg-gray-400">Next</button>
        </div>
    </div>
  </main>

  <!-- Modal Background -->
  <div id="project-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
    <!-- Modal Card -->
    <div class="bg-white rounded-xl shadow-xl p-6 w-full max-w-lg relative">
      <h2 id="modal-title" class="text-xl font-bold mb-4">Edit Task</h2>

      <form id="project-form" class="space-y-4">
        <input type="hidden" id="project-id">

        <div>
          <label for="project-name" class="block text-sm font-semibold text-gray-700 mb-1">Title</label>
          <input type="text" id="project-name" class="w-full border rounded px-3 py-2" required>
        </div>

        <div>
          <label for="project-description" class="block text-sm font-semibold text-gray-700 mb-1">Description</label>
          <textarea id="project-description" class="w-full border rounded px-3 py-2 resize-y" rows="4" required></textarea>
        </div>

        <div>
          <label for="project-deadline" class="block text-sm font-semibold text-gray-700 mb-1">Due Date</label>
          <input type="date" id="project-deadline" class="w-full border rounded px-3 py-2">
        </div>

        <div class="flex justify-end gap-2 pt-4">
          <button type="button" id="modal-cancel" class="px-4 py-2 bg-gray-300 rounded hover:bg-gray-400">Cancel</button>
          <button type="submit" class="px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700">Save</button>
        </div>
      </form>

      <!-- Spinner -->
      <div id="loading-spinner-modal" class="flex justify-center my-10 hidden">
        <div class="animate-spin rounded-full h-10 w-10 border-4 border-gray-300 border-t-indigo-500"></div>
      </div>

    </div>
  </div>

  <script type="module" src="js/projects.js"></script>
</body>

</html>
